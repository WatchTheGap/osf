<div *ngIf="vendor" class="dash-body p-4">
  <a href="/scanner/{{vendor.id}}" class="btn col-12" type="button">Add sale</a>


  <app-sales-list [vendor]="vendor"></app-sales-list>
</div>

<div *ngIf="admin" class="dash-body p-4">

    <div id="winnerModal" class="modal" tabindex="-1" (click)="goToWinners()">
      <div class="modal-dialog p-4">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
              <img class="logo" src="/assets/OSF_simplified_logo_black.png" alt="Old Sol Fiesta Logo">
              <p>Congratulations:</p>
              <h1 class="modal-title fs-5">{{user?.fullname}}!</h1>
              <div *ngIf="user">
                <div *ngFor="let sale of user.sales">
                  <p class="date-holder">Sale {{sale.id}}: {{sale.created_at | date: 'h:mm a'}}</p>
               </div>
              </div>

          </div>
          <div class="modal-footer"></div>
        </div>
      </div>
    </div>

    <ng-template #drumroll>
      <div class="drumroll">
        <h1>Selecting Winner...</h1>
        <img src="/assets/OSNT_NFT_logo_1color_white.png" class="logo" alt="Old Sol Fiesta Logo">
      </div>
    </ng-template>


  <button #winnerBtn data-bs-toggle="modal" data-bs-target="#winnerModal" class="hiddenbtn">Modal Trigger - Winner</button>

  <button class="btn col-12" (click)="getAllTickets()">Generate winner</button>

  <app-sales-list *ngIf="!(hasRoute('raffle'))" [admin]="admin"></app-sales-list>
  <app-winners-list *ngIf="hasRoute('raffle')" [winners]="winners" [admin]="admin"></app-winners-list>

</div>

<ng-template #done>
  <p class="done">All users are winners!</p>
</ng-template>
